{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content %}
    <h1>{{object.title}}</h1>
    <p> by {{ object.owner.username }}</p>
    <small class="text-muted">{{ object.date_posted|date:"F d, Y" }}</small>
    <p>{{object.description}}</p>
    <img src="{{ object.thumbnail_image.url }}">
    <br>
    <br>
    <a href="{{ object.uploaded_file.url }}" >Download</a>
    <br>
    <br>
    {% if object.owner == user %}
        <a href="{% url 'Posts-update' object.id %}" >Update</a>
        <br>
        <br>
        <a href="{% url 'Posts-delete' object.id %}" >Delete</a>
    {% endif %}
    <div>
        <form action="" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{form | crispy }}
            <input type="submit">
        </form>
    </div>
    <hr>
    {% for comment in comments %}
        <div class=" col-md-12 comment">
            <strong>{{ comment.author.username }}</strong>
            <div class="date">{{ comment.comment_date_time |date:"F d, Y" }}</div>
            <p>{{ comment.comment|linebreaks }}</p>
            <button> Edit </button>
            <button> Delete </button>
        </div>
        <hr>
    {% empty %}
        <p>No comments here yet :(</p>
    {% endfor %}
{% endblock content %}